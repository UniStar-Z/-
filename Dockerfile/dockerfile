FROM python:3.12-slim

# 复制初始化脚本
COPY app/data_management/init_db.sql /app/data_management/

# 首次运行时初始化数据库
RUN if [ ! -f /app/data_management/database.db ]; then \
    sqlite3 /app/data_management/database.db < /app/data_management/init_db.sql; \
    fi